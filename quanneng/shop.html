<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no" />
<title>quanneng</title>
<link rel="stylesheet" href="css/swiper.min.css" />   
<link rel="stylesheet" href="css/quanneng.css" />   
<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/jquery.Spinner.js"></script> 
<script src="js/swiper.jquery.min.js"></script> 
<script>
$(function(){
	/***query.Spinner***/
	$(".spinner").Spinner();
  
  /*单个材料类别数量总数*/
  $(document).on("click",".spinner a",function(){
    var sum = 0
    $("#order01 .spinner").find(".Amount").each(function(){  
      sum  = sum + parseInt($(this).val()); 
    }); 
    
    $("#category-total").text(sum)
	})
  
  //tabs
  $.TabChange("tabs",1)
  
  
  //新增-弹出层
	$("#btn-new").on("click",function(){
		 $("#dialog-new").show()
	})
  //确定-弹出层
	$("#btn-confirm").on("click",function(){
		 $("#dialog-confirm").show()
	})
  
  
	//关闭弹出层
	$(".cancel, .dialog-close").on("click",function(e){
			e.stopPropagation()
			$("#dialog-confirm").hide()		 
			$("#dialog-new").hide()		 
	})
	
})
/*tabs切换组件*/
$.TabChange = function(obj,num){
	$("li","#" + obj).each(function(index){
			$(this).click(function(i){
			 	$("div.tab-box" + num + " > div").eq(index).show().siblings().hide();
				$(this).addClass("curr").siblings().removeClass("curr");
			})													
	})
}
</script>
</head>
<body class="shop-bg">
<div class="shop-header">
  <!--头部-->
  <div class="header">
    <a class="icon-back" href="javascrit:;"></a>
    <span>材料清单</span>
    <a href="javascrit:;" class="icon-search"></a>
  </div>
  <!--//头部-->
  <!--tabs-->
  <div class="tabs" id="tabs">
    <ul>
      <li class="curr">油漆辅料</li>
      <li>水电材料</li>
      <li>水泥沙材料</li>
      <li>木质作材料</li>
    </ul>
  </div>
  <!--//tabs-->
  <div class="divide"></div>
</div>


<div class="tab-box1">
  <!--油漆辅料-->
  <div class="material-show">
    <!--分类-->
    <div class="category">
      <!--swiper-->
      <section class="swiper-container swiper01" >
        <div class="swiper-wrapper">
          <div class="swiper-slide curr">灯泡</div>
          <div class="swiper-slide">电线</div>
          <div class="swiper-slide">木板</div>
          <div class="swiper-slide">油漆</div>
          <div class="swiper-slide">墙纸</div>
          <div class="swiper-slide">其他</div>
        </div>
      </section>
      <script>
      var swiper = new Swiper('.swiper01', {
            direction: 'vertical',
            slidesPerView: 7,
            centeredSlides: false,
            paginationClickable: true,
            spaceBetween: 0,
            onTap:function(){
              //当前点击的swiper.clickedIndex
              $(".order-box > div").eq(swiper.clickedIndex).show().siblings().hide()
              var slideObj = $(".swiper01 .swiper-slide").eq(swiper.clickedIndex)
              slideObj.addClass("curr").siblings().removeClass("curr")
            }
        })
      </script>
      <!--//swiper-->
      <div class="icon-car"><em id="category-total">0</em></div>
    </div>
    <!--//分类-->
    <!--明细 tabs-->
    <div class="order-box">
      <div id="order01">
        <!--灯泡-->
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡1</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡2</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡3</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡4</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡5</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="order">
          <div class="order-name">灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡灯泡5</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <!--//灯泡-->
      </div>
      <div style="display: none">
        <!--电线-->
        <div class="order">
          <div class="order-name">电线电线电线电线电线电线电线电线1</div>
          <div class="order-num">
            <div class="spinner"></div>
          </div>
        </div>
        <!--//电线-->
      </div>
      <div style="display: none">木板</div>
      <div style="display: none">油漆</div>
      <div style="display: none">墙纸</div>
      <div style="display: none">其他</div>
    </div>
    <!--//明细-->
    <div class="blank5"></div>
  </div>
  <!--油漆辅料-->
  <!--水电材料-->
  <div style="display: none">水电材料</div>
  <div style="display: none">水泥沙材料</div>
  <div style="display: none">木质作材料</div>
  <!--//水电材料-->
  
</div>
<div class="blank"></div>

<!--购物车-->
<div class="shop-bar">
  <a href="javascript:;" class="new" id="btn-new">新增</a>
  <a href="javascript:;" class="" id="btn-confirm" >确定</a>
</div>
<!--//购物车-->

<!--弹出层-新增-->
<div id="dialog-new" style=" display: none">
	<div class="dialog">
	  <i class="dialog-close">&times;</i>
		<div class="dialog-body padd-new">
      <div class="new-product">
        <ul>
          <li>
            <input type="text" class="prod-title" placeholder="请输入你所需产品">
          </li>
          <li>
            <label>单位</label>
            <input type="text" placeholder="输入单位">
          </li>
          <li>
            <label>数量</label>
            <div>
              <div class="spinner"></div>
            </div>
          </li>
          <li>
            <label>其他</label>
            <input type="text" placeholder="备注所需">
          </li>
        </ul>
      </div>
		</div>
		<div class="dialog-footer">
			<button class="btn cancel">确定</button>
		</div>
	</div>
</div>
<!--//弹出层-新增-->
<!--弹出层-确定-->
<div id="dialog-confirm" style=" display: none">
	<div class="dialog">
		<div class="dialog-header">系统消息</div>
		<div class="dialog-body">
      <div class="opinion pass">订单提交成功！</div>
		</div>
		<div class="dialog-footer">
			<button class="btn cancel">确定</button>
		</div>
	</div>
</div>
<!--//弹出层-确定-->
</body>
</html>
